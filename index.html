<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#007AFF"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Makine Bul">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="manifest" href="manifest.json">
    
    <title>Parça Numarası ile Makine Bulucu</title>
    <style>
        /* Stil kodları aynı kaldığı için buraya eklenmedi, sizdeki kodda mevcut. */
        body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;margin:0;padding:20px;background-color:#f4f4f9;color:#333;display:flex;flex-direction:column;align-items:center}.container{width:100%;max-width:600px;background:#fff;padding:25px;border-radius:8px;box-shadow:0 4px 8px rgba(0,0,0,.1)}h1{color:#444;text-align:center;margin-bottom:20px}input[type=text]{width:calc(100% - 22px);padding:10px;margin-bottom:15px;border:1px solid #ddd;border-radius:4px;font-size:16px}.button-group{display:flex;gap:10px;margin-bottom:20px}button{flex-grow:1;padding:12px;background-color:#007aff;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:16px;transition:background-color .3s}button:hover{background-color:#0056b3}#qr-reader-button{background-color:#34c759}#qr-reader-button:hover{background-color:#2a9e48}#result{margin-top:20px;padding:15px;background-color:#eef7ff;border-left:5px solid #007aff;min-height:50px;font-size:1.2em;word-wrap:break-word}#qr-reader{width:100%;max-width:500px;margin-top:20px;border:1px solid #ddd}
    </style>
</head>
<body>
    <div class="container">
        <h1>Makine Bulucu</h1>
        <input type="text" id="partNumberInput" placeholder="Parça Numarasını Girin...">
        <div class="button-group">
            <button id="searchButton">Ara</button>
            <button id="qr-reader-button">QR Kod Tara</button>
        </div>
        <div id="qr-reader" style="display: none;"></div>
        <div id="result">Uygulama hazır. Lütfen arama yapın veya QR kod taratın.</div>
    </div>
    <script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
    <script>
        // PWA için Service Worker'ı kaydediyoruz
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js').then(registration => {
                    console.log('ServiceWorker kaydı başarılı:', registration.scope);
                }, err => {
                    console.log('ServiceWorker kaydı başarısız:', err);
                });
            });
        }

        const partData = [/* ÖNCEKİ ADIMDAKİ TÜM VERİNİZ BURADA YER ALIYOR, DEĞİŞTİRMEYİN */
            [62901,6327109809],[62908,6317330809],[62915,4212080809],[62919,4211764809],[62918,4210964807],[62907,6501363601],[62900,6414140609],[62915,4013586809],[62916,4220127809],[62922,4221193809],
            [62917,4230092329],[62909,6397395809],[62908,4013698809],[62924,4014282801],[62906,6307215809],[62908,4014622807],[62913,6390190809],[62916,4220612801],[62907,6001649809],[62900,6317076809],
            /* ... listenin geri kalanı ... */
            [62917,4010480800],[62909,4221410809]
        ];
        
        // Geri kalan JavaScript kodları aynı kaldığı için buraya eklenmedi, sizdeki kodda mevcut.
        const partNumberInput=document.getElementById("partNumberInput"),searchButton=document.getElementById("searchButton"),qrReaderButton=document.getElementById("qr-reader-button"),resultDiv=document.getElementById("result"),qrReaderDiv=document.getElementById("qr-reader");let html5QrCode=null;function findMachineByPartNumber(e){const t=e.trim();if(!t)return resultDiv.textContent="Lütfen geçerli bir parça numarası girin.",void(resultDiv.style.borderColor="#FF9500");const o=partData.filter((e=>e[1]&&e[1].toString().trim()===t)).map((e=>e[0]));o.length>0?(resultDiv.innerHTML=`<strong>Parça No:</strong> ${t}<br><strong>Bulunduğu Makineler:</strong> ${[...new Set(o)].join(", ")}`,resultDiv.style.borderColor="#007AFF"):resultDiv.textContent=`"${t}" parça numarası için makine bulunamadı.`}function startQRScanner(){qrReaderDiv.style.display="block",qrReaderButton.textContent="Taramayı Durdur",qrReaderButton.style.backgroundColor="#FF3B30",html5QrCode=new Html5Qrcode("qr-reader");const e={fps:10,qrbox:{width:250,height:250}};html5QrCode.start({facingMode:"environment"},e,((e,t)=>{partNumberInput.value=e,stopQRScanner(),findMachineByPartNumber(e)}),(e=>{})).catch((e=>{resultDiv.textContent=`Kamera başlatılamadı: ${e}`,stopQRScanner()}))}function stopQRScanner(){html5QrCode&&html5QrCode.isScanning?html5QrCode.stop().then((e=>{qrReaderDiv.style.display="none",qrReaderButton.textContent="QR Kod Tara",qrReaderButton.style.backgroundColor="#34C759"})).catch((e=>console.error("Tarayıcı durdurulurken hata.",e))):(qrReaderDiv.style.display="none",qrReaderButton.textContent="QR Kod Tara",qrReaderButton.style.backgroundColor="#34C759")}partData.length>0&&(resultDiv.textContent=`${partData.length} kayıt yüklendi. Arama yapabilirsiniz.`),searchButton.addEventListener("click",(()=>{findMachineByPartNumber(partNumberInput.value)})),partNumberInput.addEventListener("keyup",(e=>{("Enter"===e.key||13===e.keyCode)&&findMachineByPartNumber(partNumberInput.value)})),qrReaderButton.addEventListener("click",(()=>{html5QrCode&&html5QrCode.isScanning?stopQRScanner():startQRScanner()}));
    </script>
</body>
</html>